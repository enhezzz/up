(function(t){function e(e){for(var o,r,c=e[0],s=e[1],u=e[2],d=0,l=[];d<c.length;d++)r=c[d],a[r]&&l.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function c(t){return s.p+"js/"+({book:"book",good:"good",me:"me",record:"record",umbrella:"umbrella"}[t]||t)+"."+{book:"54f6d57b",good:"fe5d526c",me:"14c1e23e",record:"92de8ee0",umbrella:"3d8fdc93"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={book:1,good:1,me:1,record:1,umbrella:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var o="css/"+({book:"book",good:"good",me:"me",record:"record",umbrella:"umbrella"}[t]||t)+"."+{book:"bc8c47c3",good:"8057977d",me:"c569f55d",record:"b66d1bb8",umbrella:"d126337b"}[t]+".css",a=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===a))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===o||d===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.request=o,delete r[t],f.parentNode.removeChild(f),n(i)},f.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[t]=0}));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise(function(e,n){o=a[t]=[e,n]});e.push(o[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(t),u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/up/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0c1c":function(t,e,n){"use strict";var o=n("42c2"),r=n.n(o);r.a},2464:function(t,e,n){},"42c2":function(t,e,n){},"516e":function(t,e,n){"use strict";var o=n("d049"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("a026"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=n("f499"),c=n.n(i),s=(n("7f7f"),n("b775")),u={created:function(){},methods:{_login:function(){var t=this;dd.ready(function(){dd.runtime.permission.requestAuthCode({corpId:"ding9385b4aebd9af88635c2f4657eb6378f",onSuccess:function(e){Object(s["f"])({code:e.code}).then(function(e){switch(e.data.state){case 0:t.$store.commit("updateUsername",e.data.data.name),t.$store.commit("updateWorkCode",e.data.data.job_num),t.$store.commit("updateAvatar",e.data.data.avatar),t.$store.commit("updateDepartment",e.data.data.dept_name),t.$store.commit("updateFloorName",e.data.data.floor_name),t.$store.commit("updateFloorId",e.data.data.floor);break}})},onFail:function(t){alert("fail"+t)}})}),dd.error(function(t){alert("dd error: "+c()(t))})}}},d=u,l=(n("7c55"),n("2877")),f=Object(l["a"])(d,r,a,!1,null,null,null),m=f.exports,p=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"main"},[n("div",{staticClass:"notification"},[n("Notification",{attrs:{notifications:t.notifications}})],1),n("div",{staticClass:"entry"},[n("router-link",{staticClass:"item material",attrs:{to:"/good",tag:"div"}},[n("span",[t._v("物品领取")])]),n("router-link",{staticClass:"item book",attrs:{to:"/book",tag:"div"}},[n("span",[t._v("共享图书")])]),n("router-link",{staticClass:"item umbrella",attrs:{to:"/umbrella",tag:"div"}},[n("span",[t._v("共享雨伞")])])],1)]),n("BottomNav")],1)},h=[],b=(n("96cf"),n("3b8d")),v=n("c549"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"notification-box",style:{height:100*t.notifications.length+"%"}},t._l(t.notifications,function(e){return n("div",{key:e.announcement_id,staticClass:"item",style:{height:100/t.notifications.length+"%"}},[t._v("\n    "+t._s(e.title)+"\n    ")])}),0)},y=[],w={name:"Notification",props:{notifications:{type:Array,required:!0}},data:function(){return{interval:null,timeout:null}},watch:{notifications:function(){var t=this;clearInterval(this.interval),clearTimeout(this.timeout),this.notifications.length>1&&(this.interval=setInterval(function(){t.$refs.container.style="transform: translate3d(0px, ".concat(-100/t.notifications.length,"%, 0px);transition: transform 1000ms ease;height: ").concat(100*t.notifications.length,"%"),t.timeout=setTimeout(function(){t.notifications.push(t.notifications.shift()),t&&(t.$refs.container.style="transform: translate3d(0px, 0, 0px);transition: transform 0ms ease;height: ".concat(100*t.notifications.length,"%"))},1200)},6e3))}},beforeDestroy:function(){clearInterval(this.interval),clearTimeout(this.timeout)}},k=w,$=(n("f733"),Object(l["a"])(k,_,y,!1,null,"f5d023e8",null)),C=$.exports,j={name:"Home",components:{BottomNav:v["a"],Notification:C},data:function(){return{notifications:[]}},created:function(){this.init()},methods:{init:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["e"])();case 2:e=t.sent,this.notifications=e.data.data.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},x=j,O=(n("0c1c"),Object(l["a"])(x,g,h,!1,null,"ae19dc6c",null)),N=O.exports;o["a"].use(p["a"]);var E=new p["a"]({routes:[{path:"/",name:"home",component:N,meta:{title:"行政平台"}},{path:"/me/record/borrow",name:"returnRecord",component:function(){return n.e("record").then(n.bind(null,"f3d1"))}},{path:"/me/record/goods",name:"goodsRecord",component:function(){return n.e("record").then(n.bind(null,"3e25"))},meta:{title:"物品领取记录"}},{path:"/me",name:"me",component:function(){return n.e("me").then(n.bind(null,"0a99"))},meta:{title:"个人中心"}},{path:"/book",name:"book",component:function(){return n.e("book").then(n.bind(null,"5185"))},meta:{title:"共享图书"}},{path:"/book/detail",name:"bookDetail",component:function(){return n.e("book").then(n.bind(null,"ee4a"))},meta:{title:"图书详情"}},{path:"/umbrella",name:"umbrella",component:function(){return n.e("umbrella").then(n.bind(null,"6f2e"))},meta:{title:"共享雨伞"}},{path:"/good",name:"good",component:function(){return n.e("good").then(n.bind(null,"4de4"))},meta:{title:"物品领取"}}]});E.beforeEach(function(t,e,n){"/me/record/borrow"===t.path?"1"===t.query.assets_id?document.title="雨伞借取记录":"2"===t.query.assets_id&&(document.title="图书借取记录"):document.title=t["meta"]["title"],localStorage.from=e.path,n()});var A=E,T=n("cebc"),S=n("2f62");o["a"].use(S["a"]);var P=new S["a"].Store({modules:{cart:{namespaced:!0,state:{c:{}},mutations:{add:function(t,e){e.goods_id in t.c?t.c[e.goods_id]["num"]++:t.c[e.goods_id]={goods_name:e.goods_name,num:1},t.c=Object(T["a"])({},t.c)},sub:function(t,e){e.goods_id in t.c&&(t.c[e.goods_id]["num"]>1?t.c[e.goods_id]["num"]--:delete t.c[e.goods_id],t.c=Object(T["a"])({},t.c))},clear:function(t){t.c={}}}}},state:{username:"admin",workCode:"2018000",floorName:"",department:"研发部",avatar:"",floorId:""},mutations:{updateUsername:function(t,e){t.username=e},updateWorkCode:function(t,e){t.workCode=e},updateAvatar:function(t,e){t.avatar=e},updateDepartment:function(t,e){t.department=e},updateFloorName:function(t,e){t.floorName=e},updateFloorId:function(t,e){t.floorId=e}},actions:{}}),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["notification",t.status]},[t._t("default")],2)},I=[],F={name:"Notification",data:function(){return{verticalPosition:16,status:"danger",duration:0}},mounted:function(){var t=this;0!==this.duration&&setTimeout(function(){t.$destroy(!0),t.$el.parentNode.removeChild(t.$el)},this.duration+2e3)}},B=F,R=(n("a9f4"),Object(l["a"])(B,q,I,!1,null,"8d19c062",null)),D=R.exports,L=o["a"].extend(D),M={danger:"danger"};function U(t){var e=new L;return e.$slots.default=t.message,e.$data.duration=t.duration||0,e.$data.status=t.status||"info",e.classList=M[t.status],e.$mount(),document.body.appendChild(e.$el),e}var J=U,W={install:function(t){t.prototype.$notify=J}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bouncing-loader"},[t._m(0),n("div",{staticClass:"tip"},[t._v("\n    "+t._s(t.tip)+"\n  ")])])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"balls"},[n("div"),n("div"),n("div")])}],G={data:function(){return{tip:""}}},K=G,Q=(n("516e"),Object(l["a"])(K,H,z,!1,null,"b1abc4aa",null)),V=Q.exports,X=o["a"].extend(V),Y=[];function Z(t){var e=new X;e.tip=t,e.$mount(),Y.push(e),document.body.appendChild(e.$el)}function tt(){var t=Y.pop();t.$destroy(!0),document.body.removeChild(t.$el)}var et={start:Z,close:tt},nt={install:function(t){t.prototype.$loading=et}},ot=n("9483");Object(ot["a"])("".concat("/up/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("dd68");o["a"].config.productionTip=!1,o["a"].use(W),o["a"].use(nt),new o["a"]({router:A,store:P,render:function(t){return t(m)}}).$mount("#app")},"6ca3":function(t,e,n){},7278:function(t,e,n){},"7c55":function(t,e,n){"use strict";var o=n("2464"),r=n.n(o);r.a},"7f85":function(t,e,n){"use strict";var o=n("aa0c"),r=n.n(o);r.a},a9f4:function(t,e,n){"use strict";var o=n("6ca3"),r=n.n(o);r.a},aa0c:function(t,e,n){},b775:function(t,e,n){"use strict";n.d(e,"c",function(){return b}),n.d(e,"a",function(){return v}),n.d(e,"h",function(){return _}),n.d(e,"g",function(){return y}),n.d(e,"e",function(){return w}),n.d(e,"b",function(){return C}),n.d(e,"d",function(){return j}),n.d(e,"f",function(){return x});n("ac6a"),n("06db"),n("5df3");var o=n("795b"),r=n.n(o),a=n("bc3a"),i=n.n(a),c=n("a026");i.a.defaults.baseURL="https://119.23.32.24/",i.a.interceptors.request.use(function(t){return t},function(t){return r.a.reject(t)}),i.a.interceptors.response.use(function(t){return t},function(t){return c["a"].prototype.$notify({message:"错误！代码:".concat(t),duration:100,status:"danger"}),r.a.reject(t)});var s="/up/api/front/borrow/type_manage/get_goods_list_by_assets",u="/up/api/front/borrow/goods_manage/borrow_goods",d="/up/api/front/borrow/goods_manage/return_goods",l="/up/api/front/borrow/goods_manage/receive_goods_list",f="/up/api/front/borrow/announce_manage/get_publish_announce",m="/up/api/front/borrow/goods_manage/get_goods_info",p="/up/api/front/borrow/lent_info_manage/get_goods_lent_info",g="/up/api/front/borrow/lent_info_manage/get_lent_info",h="/up/api/front/borrow/ding_front/ding_login";function b(t){return t.has_stock?i.a.get("".concat(s,"?assets_id=").concat(t.assets_id,"&has_stock=").concat(t.has_stock)):i.a.get("".concat(s,"?assets_id=").concat(t.assets_id))}function v(t){return i.a.post(u,t)}function _(t){return i.a.post(d,t)}function y(t){return i.a.post(l,t)}function w(){return i.a.get(f)}function k(t){return i.a.get("".concat(m,"?goods_id=").concat(t))}function $(t){return i.a.get("".concat(p,"?goods_id=").concat(t))}function C(t){return r.a.all([k(t),$(t)])}function j(t){return i.a.get("".concat(g,"?lent_code=").concat(t.lent_code,"&assets_id=").concat(t.assets_id,"&is_return=").concat(t.is_return))}function x(t){return i.a.post(h,t)}},c549:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-nav"},[n("router-link",{staticClass:"nav-item",attrs:{to:"/",tag:"div"}},[n("span",{class:["home"]},[t._v("首页")])])],1)},r=[],a={data:function(){return{currActive:"home"}}},i=a,c=(n("7f85"),n("2877")),s=Object(c["a"])(i,o,r,!1,null,"67031142",null);e["a"]=s.exports},d049:function(t,e,n){},dd68:function(t,e,n){},f733:function(t,e,n){"use strict";var o=n("7278"),r=n.n(o);r.a}});
//# sourceMappingURL=app.ce2851b3.js.map